run: PPO
name: rotation
local_dir: /checkpoint/jungdam/Research/ScaDive/data/learning/imitation/contrastive/
checkpoint_freq: 100
checkpoint_at_end: true
stop: 
    time_total_s: 720000
config:
    env: HumanoidImitationContrastive
    log_level: WARN
    gamma: 0.95
    lambda: 0.95
    clip_param: 0.2
    kl_coeff: 0.0
    vf_clip_param: 1000
    num_sgd_iter: 20
    lr: 0.00002
    sgd_minibatch_size: 1000
    horizon: 900
    train_batch_size: 50000
    rollout_fragment_length: 100
    vf_share_layers: false
    num_envs_per_worker: 1
    num_cpus_per_worker: 1
    num_gpus_per_worker: 0
    framework: torch
    model:
        custom_model: fcnn
        custom_model_config:
            log_std_type: constant
            sample_std: 0.1
    num_workers: 8
    num_gpus: 0
    batch_mode: truncate_episodes
    observation_filter: NoFilter
    env_config:
        lazy_creation: false
        project_dir: /private/home/jungdam/Research/ScaDive/
        fps_sim: 480
        fps_con: 30
        add_noise: false
        verbose: false
        state:
            choices: ['body', 'model_feature']
        action:
            # 'absolute', 'relative'
            type: "absolute"
            range_min: -3.0
            range_max: 3.0
            range_min_pol: -3.0
            range_max_pol: 3.0
        reward: 
            fn_def:
                default:
                    name: total
                    op: mul
                    child_nodes:
                      - name: plausibility_score
                        op: leaf
                        weight: 1.0
                        kernel: 
                            type: none
            fn_map:
                - default
        early_term:
            choices:
                - falldown
                - low_reward
            low_reward_thres: 0.1
            eoe_margin: 0.5
        character:
            name:
                - agent1
            char_info_module:
                - amass_char_info.py
            sim_char_file:
                - data/character/amass.urdf
            ref_motion_scale:
                - 1.0
            # This defines the base posture when an action whose values all zeros is given
            base_motion_file:
                - data/motion/multiagent/fencing/player1.bvh
            ref_motion_db:
                - data:
                    file:
                        - data/motion/multiagent/fencing/edited/Capture1_subject1_stageII_edited.bvh
            actuation: 
                - spd
            self_collision: 
                - true
            environment_file: []
        plausibility_model:
            file:
                - data/temp/fencing/contrastive/rotation_motion_random_last_5_4.model
            past_window_size:
                - 5
            feature_type:
                - rotation
            model_type:
                - mlp
